ACMS.Dispatch.emoditor=function(elm){var callback=function(toolbar,config){CKEDITOR.disableAutoInline=true;config.toolbar=toolbar;var name=$(elm).attr("name"),editor=CKEDITOR.instances[name];if(editor){CKEDITOR.remove(editor)}$(elm).data("emoditor",CKEDITOR.replace($(elm).get(0),config));CKEDITOR.on("dialogDefinition",function(ev){var dialogName=ev.data.name;var dialogDefinition=ev.data.definition;if(dialogName=="table"){var infoTab=dialogDefinition.getContents("info");txtWidth=infoTab.get("txtWidth");txtWidth["default"]=""}});return $(elm).data("emoditor")};var self=arguments.callee;if(typeof window["CKEDITOR"]!=="undefined"||self.loaded){callback(ACMS.Config.emoToolbar,ACMS.Config.emoConfig)}else if(self.stack){self.stack.push(callback)}else{ACMS.Dispatch._ckeditorPre();self.stack=[callback];(new ACMS.SyncLoader).next(ACMS.Config.jsRoot+"library/ckeditor4/ckeditor.js").load(function(){ACMS.Dispatch._ckeditorPost();self.loaded=true;while(self.stack.length){self.stack.shift()(ACMS.Config.emoToolbar,ACMS.Config.emoConfig)}})}};