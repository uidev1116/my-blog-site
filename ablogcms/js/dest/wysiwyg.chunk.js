/*! For license information please see wysiwyg.chunk.js.LICENSE.txt */
(self.webpackChunkacmsWebpackJsonp=self.webpackChunkacmsWebpackJsonp||[]).push([[684],{92397:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(54753),o(21970),o(80560),o(83476),o(80354),o(96801),o(19362),o(92506),o(32094),o(81153),t.default=function(e,t){$((function(){$.trumbowyg.svgPath="".concat(ACMS.Config.root,"js/dest/assets/icons.svg"),$(e).trumbowyg(t)}))}},19362:function(e,t,o){"use strict";o.r(t)},92506:function(e,t,o){"use strict";o.r(t)},32094:function(e,t,o){"use strict";o.r(t)},96801:function(){jQuery.trumbowyg.langs.ja={viewHTML:"HTML表示",undo:"元に戻す",redo:"やり直す",formatting:"フォーマット",p:"段落",blockquote:"引用",code:"コード",header:"見出し",bold:"太字",italic:"斜体",strikethrough:"取り消し線",underline:"下線",strong:"太字",em:"斜体",del:"取り消し線",superscript:"上付き文字",subscript:"下付き文字",unorderedList:"順序なしリスト",orderedList:"順序ありリスト",insertImage:"画像の挿入",link:"リンク",createLink:"リンクの作成",unlink:"リンクの削除",justifyLeft:"左揃え",justifyCenter:"中央揃え",justifyRight:"右揃え",justifyFull:"両端揃え",horizontalRule:"横罫線",removeformat:"フォーマットの削除",fullscreen:"全画面表示",close:"閉じる",submit:"送信",reset:"キャンセル",required:"必須",description:"説明",title:"タイトル",text:"テキスト",target:"ターゲット"}},21970:function(){!function(e){"use strict";function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}function o(e){return-1===e.search("rgb")?e.replace("#",""):"rgba(0, 0, 0, 0)"===e||null==(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d?(.\d+)))?\)$/))?"transparent":t(e[1])+t(e[2])+t(e[3])}e.extend(!0,e.trumbowyg,{langs:{en:{foreColor:"Text color",backColor:"Background color",foreColorRemove:"Remove text color",backColorRemove:"Remove background color"},az:{foreColor:"Yazı rəngi",backColor:"Arxa plan rəngi",foreColorRemove:"Yazı rəngini sil",backColorRemove:"Arxa plan rəngini sil"},by:{foreColor:"Колер тэксту",backColor:"Колер фону тэксту",foreColorRemove:"Выдаліць колер тэксту",backColorRemove:"Выдаліць колер фону тэксту"},ca:{foreColor:"Color del text",backColor:"Color del fons",foreColorRemove:"Eliminar color del text",backColorRemove:"Eliminar color del fons"},cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},da:{foreColor:"Tekstfarve",backColor:"Baggrundsfarve"},de:{foreColor:"Textfarbe",backColor:"Hintergrundfarbe"},es:{foreColor:"Color del texto",backColor:"Color del fondo",foreColorRemove:"Eliminar color del texto",backColorRemove:"Eliminar color del fondo"},et:{foreColor:"Teksti värv",backColor:"Taustavärv",foreColorRemove:"Eemalda teksti värv",backColorRemove:"Eemalda taustavärv"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond",foreColorRemove:"Supprimer la couleur du texte",backColorRemove:"Supprimer la couleur de fond"},hu:{foreColor:"Betű szín",backColor:"Háttér szín",foreColorRemove:"Betű szín eltávolítása",backColorRemove:"Háttér szín eltávolítása"},ja:{foreColor:"文字色",backColor:"背景色"},ko:{foreColor:"글자색",backColor:"배경색",foreColorRemove:"글자색 지우기",backColorRemove:"배경색 지우기"},nl:{foreColor:"Tekstkleur",backColor:"Achtergrondkleur"},pt_br:{foreColor:"Cor de fonte",backColor:"Cor de fundo"},ru:{foreColor:"Цвет текста",backColor:"Цвет выделения текста",foreColorRemove:"Очистить цвет текста",backColorRemove:"Очистить цвет выделения текста"},sl:{foreColor:"Barva teksta",backColor:"Barva ozadja",foreColorRemove:"Ponastavi barvo teksta",backColorRemove:"Ponastavi barvo ozadja"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"},tr:{foreColor:"Yazı rengi",backColor:"Arka plan rengi",foreColorRemove:"Yazı rengini kaldır",backColorRemove:"Arka plan rengini kaldır"},zh_cn:{foreColor:"文字颜色",backColor:"背景颜色"},zh_tw:{foreColor:"文字顏色",backColor:"背景顏色"}}});var a={colorList:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],foreColorList:null,backColorList:null,allowCustomForeColor:!0,allowCustomBackColor:!0,displayAsList:!1};function n(t,o){var a=[],n=o.o.plugins.colors,l=n[t+"List"]||n.colorList;e.each(l,(function(e,l){var r=t+l,i={fn:t,forceCss:!0,hasIcon:!1,text:o.lang["#"+l]||"#"+l,param:"#"+l,style:"background-color: #"+l+";"};n.displayAsList&&"foreColor"===t&&(i.style="color: #"+l+" !important;"),o.addBtnDef(r,i),a.push(r)}));var r=t+"Remove",i={fn:"removeFormat",hasIcon:!1,param:t,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};if(n.displayAsList&&(i.style=""),o.addBtnDef(r,i),a.push(r),n["allowCustom"+t.charAt(0).toUpperCase()+t.substr(1)]){var s=t+"Free",d={fn:function(){o.openModalInsert(o.lang[t],{color:{label:t,forceCss:!0,type:"color",value:"#FFFFFF"}},(function(e){return o.execCmd(t,e.color),!0}))},hasIcon:!1,text:"#",style:"text-indent: 0; line-height: 20px; padding: 0 5px;"};o.addBtnDef(s,d),a.push(s)}return a}e.extend(!0,e.trumbowyg,{plugins:{color:{init:function(e){e.o.plugins.colors=e.o.plugins.colors||a;var t=e.o.plugins.colors.displayAsList?e.o.prefix+"dropdown--color-list":"",o={dropdown:n("foreColor",e),dropdownClass:t},l={dropdown:n("backColor",e),dropdownClass:t};e.addBtnDef("foreColor",o),e.addBtnDef("backColor",l)},tagHandler:function(e,t){var a,n=[];if(!e.style)return n;if(""!==e.style.backgroundColor){var l=o(e.style.backgroundColor);t.o.plugins.colors.colorList.indexOf(l)>=0?n.push("backColor"+l):n.push("backColorFree")}return""!==e.style.color?a=o(e.style.color):e.hasAttribute("color")&&(a=o(e.getAttribute("color"))),a&&(t.o.plugins.colors.colorList.indexOf(a)>=0?n.push("foreColor"+a):n.push("foreColorFree")),n}}}})}(jQuery)},80560:function(){!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{fontsize:"Font size",fontsizes:{"x-small":"Extra small",small:"Small",medium:"Regular",large:"Large","x-large":"Extra large",custom:"Custom"},fontCustomSize:{title:"Custom Font Size",label:"Font Size",value:"48px"}},az:{fontsize:"Şrift həcmi",fontsizes:{"x-small":"Daha kiçik",small:"Kiçik",medium:"Normal",large:"Böyük","x-large":"Daha böyük",custom:"Fərdi həcm"},fontCustomSize:{title:"Fərdi şrift həcmi",label:"Şrift həcmi",value:"48px"}},by:{fontsize:"Памер шрыфта",fontsizes:{"x-small":"Вельмі маленькі",small:"Маленькі",medium:"Звычайны",large:"Вялікі","x-large":"Вельмі вялікі",custom:"Карыстальніцкі"},fontCustomSize:{title:"Карыстальніцкі Памер Шрыфта",label:"Памер Шрыфта",value:"48px"}},ca:{fontsize:"Mida de la lletra",fontsizes:{"x-small":"Molt petita",small:"Petita",medium:"Normal",large:"Gran","x-large":"Molt Gran",custom:"Personalitzada"},fontCustomSize:{title:"Mida de lletra personalitzada",label:"Mida de lletra",value:"48px"}},da:{fontsize:"Skriftstørrelse",fontsizes:{"x-small":"Ekstra lille",small:"Lille",medium:"Normal",large:"Stor","x-large":"Ekstra stor",custom:"Brugerdefineret"}},de:{fontsize:"Schriftgröße",fontsizes:{"x-small":"Sehr klein",small:"Klein",medium:"Normal",large:"Groß","x-large":"Sehr groß",custom:"Benutzerdefiniert"},fontCustomSize:{title:"Benutzerdefinierte Schriftgröße",label:"Schriftgröße",value:"48px"}},es:{fontsize:"Tamaño de Fuente",fontsizes:{"x-small":"Extra pequeña",small:"Pegueña",medium:"Regular",large:"Grande","x-large":"Extra Grande",custom:"Customizada"},fontCustomSize:{title:"Tamaño de Fuente Customizada",label:"Tamaño de Fuente",value:"48px"}},et:{fontsize:"Teksti suurus",fontsizes:{"x-small":"Väga väike",small:"Väike",medium:"Tavaline",large:"Suur","x-large":"Väga suur",custom:"Määra ise"},fontCustomSize:{title:"Kohandatud teksti suurus",label:"Teksti suurus",value:"48px"}},fr:{fontsize:"Taille de la police",fontsizes:{"x-small":"Très petit",small:"Petit",medium:"Normal",large:"Grand","x-large":"Très grand",custom:"Taille personnalisée"},fontCustomSize:{title:"Taille de police personnalisée",label:"Taille de la police",value:"48px"}},hu:{fontsize:"Betű méret",fontsizes:{"x-small":"Extra kicsi",small:"Kicsi",medium:"Normális",large:"Nagy","x-large":"Extra nagy",custom:"Egyedi"},fontCustomSize:{title:"Egyedi betű méret",label:"Betű méret",value:"48px"}},it:{fontsize:"Dimensioni del testo",fontsizes:{"x-small":"Molto piccolo",small:"piccolo",regular:"normale",large:"grande","x-large":"Molto grande",custom:"Personalizzato"},fontCustomSize:{title:"Dimensioni del testo personalizzato",label:"Dimensioni del testo",value:"48px"}},ko:{fontsize:"글꼴 크기",fontsizes:{"x-small":"아주 작게",small:"작게",medium:"보통",large:"크게","x-large":"아주 크게",custom:"사용자 지정"},fontCustomSize:{title:"사용자 지정 글꼴 크기",label:"글꼴 크기",value:"48px"}},nl:{fontsize:"Lettergrootte",fontsizes:{"x-small":"Extra klein",small:"Klein",medium:"Normaal",large:"Groot","x-large":"Extra groot",custom:"Handmatig"},fontCustomSize:{title:"Handmatige lettergrootte",label:"Lettergrootte",value:"48px"}},pt_br:{fontsize:"Tamanho da fonte",fontsizes:{"x-small":"Extra pequeno",small:"Pequeno",regular:"Médio",large:"Grande","x-large":"Extra grande",custom:"Personalizado"},fontCustomSize:{title:"Tamanho de Fonte Personalizado",label:"Tamanho de Fonte",value:"48px"}},ru:{fontsize:"Размер шрифта",fontsizes:{"x-small":"Очень маленький",small:"Маленький",medium:"Обычный",large:"Большой","x-large":"Очень большой",custom:"Пользовательский"},fontCustomSize:{title:"Пользовательский Размер Шрифта",label:"Размер Шрифта",value:"48px"}},sl:{fontsize:"Velikost pisave",fontsizes:{"x-small":"Ekstra majhna",small:"Majhna",medium:"Navadno",large:"Velika","x-large":"Ekstra velika",custom:"Poljubna"},fontCustomSize:{title:"Poljubna velikost pisave",label:"Velikost pisave",value:"48px"}},tr:{fontsize:"Yazı boyutu",fontsizes:{"x-small":"Çok küçük",small:"Küçük",medium:"Normal",large:"Büyük","x-large":"Çok büyük",custom:"Özel"},fontCustomSize:{title:"Özel Yazı Boyutu",label:"Yazı Boyutu",value:"48px"}},zh_tw:{fontsize:"字體大小",fontsizes:{"x-small":"最小",small:"小",medium:"中",large:"大","x-large":"最大",custom:"自訂大小"},fontCustomSize:{title:"自訂義字體大小",label:"字體大小",value:"48px"}}}});var t={sizeList:["x-small","small","medium","large","x-large"],allowCustomSize:!0};function o(t,o){t.$ed.focus(),t.saveRange(),t.execCmd("fontSize","1");var a=t.$ed.find('font[size="1"]');a.find('span[style*="font-size"]').contents().unwrap(),a.replaceWith((function(){return e("<span/>",{css:{"font-size":o},html:this.innerHTML})})),e(t.range.startContainer.parentElement).find('span[style=""]').contents().unwrap(),t.restoreRange(),t.syncCode(),t.$c.trigger("tbwchange")}function a(t){var a=[];if(e.each(t.o.plugins.fontsize.sizeList,(function(e,n){t.addBtnDef("fontsize_"+n,{text:'<span style="font-size: '+n+';">'+(t.lang.fontsizes[n]||n)+"</span>",hasIcon:!1,fn:function(){o(t,n)}}),a.push("fontsize_"+n)})),t.o.plugins.fontsize.allowCustomSize){var n="fontsize_custom",l={fn:function(){t.openModalInsert(t.lang.fontCustomSize.title,{size:{label:t.lang.fontCustomSize.label,value:t.lang.fontCustomSize.value}},(function(e){return o(t,e.size),!0}))},text:'<span style="font-size: medium;">'+t.lang.fontsizes.custom+"</span>",hasIcon:!1};t.addBtnDef(n,l),a.push(n)}return a}e.extend(!0,e.trumbowyg,{plugins:{fontsize:{init:function(o){o.o.plugins.fontsize=e.extend({},t,o.o.plugins.fontsize||{}),o.addBtnDef("fontsize",{dropdown:a(o)})}}}})}(jQuery)},83476:function(){!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{lineheight:"Line height",lineheights:{.9:"Small",normal:"Regular",1.5:"Large","2.0":"Extra large"}},az:{lineheight:"Sətir yüksəkliyi",lineheights:{.9:"Kiçik",normal:"Normal",1.5:"Böyük","2.0":"Daha böyük"}},by:{lineheight:"Міжрадковы інтэрвал",lineheights:{.9:"Маленькі",normal:"Звычайны",1.5:"Вялікі","2.0":"Вельмі вялікі"}},da:{lineheight:"Linjehøjde",lineheights:{.9:"Lille",normal:"Normal",1.5:"Stor","2.0":"Ekstra stor"}},et:{lineheight:"Reavahe",lineheights:{.9:"Väike",normal:"Tavaline",1.5:"Suur","2.0":"Väga suur"}},fr:{lineheight:"Hauteur de ligne",lineheights:{.9:"Petite",normal:"Normale",1.5:"Grande","2.0":"Très grande"}},hu:{lineheight:"Line height",lineheights:{.9:"Small",normal:"Regular",1.5:"Large","2.0":"Extra large"}},it:{lineheight:"Altezza linea",lineheights:{.9:"Bassa",normal:"Normale",1.5:"Alta","2.0":"Molto alta"}},ko:{lineheight:"줄 간격",lineheights:{.9:"좁게",normal:"보통",1.5:"넓게","2.0":"아주 넓게"}},nl:{lineheight:"Regelhoogte",lineheights:{.9:"Klein",normal:"Normaal",1.5:"Groot","2.0":"Extra groot"}},pt_br:{lineheight:"Altura de linha",lineheights:{.9:"Pequena",normal:"Regular",1.5:"Grande","2.0":"Extra grande"}},ru:{lineheight:"Межстрочный интервал",lineheights:{.9:"Маленький",normal:"Обычный",1.5:"Большой","2.0":"Очень большой"}},sl:{lineheight:"Višina vrstice",lineheights:{.9:"Majhna",normal:"Navadna",1.5:"Velika","2.0":"Ekstra velika"}},tr:{lineheight:"Satır yüksekliği",lineheights:{.9:"Küçük",normal:"Normal",1.5:"Büyük","2.0":"Çok Büyük"}},zh_tw:{lineheight:"文字間距",lineheights:{.9:"小",normal:"正常",1.5:"大","2.0":"特大"}}}});var t={sizeList:["0.9","normal","1.5","2.0"]};function o(t){var o=[];return e.each(t.o.plugins.lineheight.sizeList,(function(a,n){t.addBtnDef("lineheight_"+n,{text:t.lang.lineheights[n]||n,hasIcon:!1,fn:function(){if(t.saveRange(),""!==t.getRangeText().replace(/\s/g,""))try{var o=(l=null,window.getSelection?(a=window.getSelection()).rangeCount&&1!==(l=a.getRangeAt(0).commonAncestorContainer).nodeType&&(l=l.parentNode):(a=document.selection)&&"Control"!==a.type&&(l=a.createRange().parentElement()),l);e(o).css("lineHeight",n)}catch(e){}var a,l}}),o.push("lineheight_"+n)})),o}e.extend(!0,e.trumbowyg,{plugins:{lineheight:{init:function(a){a.o.plugins.lineheight=e.extend({},t,a.o.plugins.lineheight||{}),a.addBtnDef("lineheight",{dropdown:o(a)})}}}})}(jQuery)},80354:function(){!function(e){"use strict";var t={rows:8,columns:8,allowHorizontalResize:!0,colorList:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],backgroundColorList:null,allowCustomBackgroundColor:!0,displayBackgroundColorsAsList:!1,borderColorList:null,allowCustomBorderColor:!0,displayBorderColorsAsList:!1,dropdown:[{title:"tableRows",buttons:["tableAddHeaderRow","tableAddRowAbove","tableAddRow","tableDeleteRow"]},{title:"tableColumns",buttons:["tableAddColumnLeft","tableAddColumn","tableDeleteColumn"]},{title:"tableVerticalAlign",buttons:["tableVerticalAlignTop","tableVerticalAlignMiddle","tableVerticalAlignBottom"]},{title:"tableOthers",buttons:["tableMergeCells","tableUnmergeCells","tableDestroy"]}]};function o(e){return e[0].toUpperCase()+e.slice(1)}function a(e){return("0"+parseInt(e).toString(16)).slice(-2)}function n(e){return-1===e.search("rgb")?e.replace("#",""):"rgba(0, 0, 0, 0)"===e||null==(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d?(.\d+)))?\)$/))?"transparent":a(e[1])+a(e[2])+a(e[3])}e.extend(!0,e.trumbowyg,{langs:{en:{table:"Insert table",tableRows:"Rows",tableColumns:"Columns",tableVerticalAlign:"Vertical align",tableOthers:"Others",tableAddHeaderRow:"Insert head row",tableAddRowAbove:"Insert row above",tableAddRow:"Insert row below",tableAddColumnLeft:"Insert column to the left",tableAddColumn:"Insert column to the right",tableDeleteRow:"Delete row",tableDeleteColumn:"Delete column",tableDestroy:"Delete table",tableMergeCells:"Merge cells",tableUnmergeCells:"Unmerge cells",tableVerticalAlignTop:"Align text to top",tableVerticalAlignMiddle:"Center text vertically",tableVerticalAlignBottom:"Align text to bottom",tableCellBackgroundColor:"Cell background color"},az:{table:"Cədvəl yerləşdir",tableAddRow:"Sətir əlavə et",tableAddRowAbove:"Yuxarı sətir əlavə et",tableAddColumnLeft:"Sola sütun əlavə et",tableAddColumn:"Sağa sütun əlavə et",tableDeleteRow:"Sətri sil",tableDeleteColumn:"Sütunu sil",tableDestroy:"Cədvəli sil"},ca:{table:"Inserir taula",tableAddRow:"Afegir fila",tableAddRowAbove:"Afegir fila a dalt",tableAddColumnLeft:"Afegir columna a l'esquerra",tableAddColumn:"Afegir columna a la dreta",tableDeleteRow:"Esborrar fila",tableDeleteColumn:"Esborrar columna",tableDestroy:"Esborrar taula",error:"Error"},cs:{table:"Vytvořit příkaz Table",tableAddRow:"Přidat řádek",tableAddRowAbove:"Přidat řádek",tableAddColumnLeft:"Přidat sloupec",tableAddColumn:"Přidat sloupec"},da:{table:"Indsæt tabel",tableAddRow:"Tilføj række",tableAddRowAbove:"Tilføj række",tableAddColumnLeft:"Tilføj kolonne",tableAddColumn:"Tilføj kolonne",tableDeleteRow:"Slet række",tableDeleteColumn:"Slet kolonne",tableDestroy:"Slet tabel"},de:{table:"Tabelle einfügen",tableAddRow:"Zeile hinzufügen",tableAddRowAbove:"Zeile hinzufügen",tableAddColumnLeft:"Spalte hinzufügen",tableAddColumn:"Spalte hinzufügen",tableDeleteRow:"Zeile löschen",tableDeleteColumn:"Spalte löschen",tableDestroy:"Tabelle löschen"},et:{table:"Sisesta tabel",tableAddRow:"Lisa rida",tableAddRowAbove:"Lisa rida üles",tableAddColumnLeft:"Lisa tulp vasakule",tableAddColumn:"Lisa tulp paremale",tableDeleteRow:"Kustuta rida",tableDeleteColumn:"Kustuta tulp",tableDestroy:"Kustuta tabel"},fr:{table:"Insérer un tableau",tableRows:"Lignes",tableColumns:"Colonnes",tableVerticalAlign:"Alignement vertical",tableOthers:"Autres",tableAddHeaderRow:"Insérer une line d'en-tête",tableAddRowAbove:"Insérer une ligne au dessus",tableAddRow:"Insérer une ligne en dessous",tableAddColumnLeft:"Insérer une colonne à gauche",tableAddColumn:"Insérer une colonne à droite",tableDeleteRow:"Supprimer la ligne",tableDeleteColumn:"Supprimer la colonne",tableDestroy:"Supprimer le tableau",tableMergeCells:"Fusionner les cellules",tableUnmergeCells:"Dissocier les cellules",tableVerticalAlignTop:"Aligner en haut",tableVerticalAlignMiddle:"Aligner au milieu",tableVerticalAlignBottom:"Aligner en bas",tableCellBackgroundColor:"Couleur de fond des cellules",tableBorderColor:"Couleur de la bordure du tableau"},hu:{table:"Táblázat beszúrás",tableAddRow:"Sor hozzáadás",tableAddRowAbove:"Sor beszúrás fönt",tableAddColumnLeft:"Sor beszúrás balra",tableAddColumn:"Sor beszúrás jobbra",tableDeleteRow:"Sor törlés",tableDeleteColumn:"Oszlop törlés",tableDestroy:"Táblázat törlés"},id:{table:"Sisipkan tabel",tableAddRow:"Sisipkan baris",tableAddRowAbove:"Sisipkan baris",tableAddColumnLeft:"Sisipkan kolom",tableAddColumn:"Sisipkan kolom",tableDeleteRow:"Hapus baris",tableDeleteColumn:"Hapus kolom",tableDestroy:"Hapus tabel"},ja:{table:"表の挿入",tableAddRow:"行の追加",tableAddRowAbove:"行の追加",tableAddColumnLeft:"列の追加",tableAddColumn:"列の追加"},ko:{table:"표 넣기",tableAddRow:"줄 추가",tableAddRowAbove:"줄 추가",tableAddColumnLeft:"칸 추가",tableAddColumn:"칸 추가",tableDeleteRow:"줄 삭제",tableDeleteColumn:"칸 삭제",tableDestroy:"표 지우기"},pt_br:{table:"Inserir tabela",tableAddRow:"Adicionar linha",tableAddRowAbove:"Adicionar linha",tableAddColumnLeft:"Adicionar coluna",tableAddColumn:"Adicionar coluna",tableDeleteRow:"Deletar linha",tableDeleteColumn:"Deletar coluna",tableDestroy:"Deletar tabela"},ru:{table:"Вставить таблицу",tableAddRow:"Добавить строку",tableAddRowAbove:"Добавить строку",tableAddColumnLeft:"Добавить столбец",tableAddColumn:"Добавить столбец",tableDeleteRow:"Удалить строку",tableDeleteColumn:"Удалить столбец",tableDestroy:"Удалить таблицу"},sl:{table:"Dodaj tabelo",tableAddRow:"Dodaj vrstico",tableAddRowAbove:"Vrini vrstico",tableAddColumnLeft:"Vrini stolpec",tableAddColumn:"Dodaj stolpec",tableDeleteRow:"Izbriši vrstico",tableDeleteColumn:"Izbriši stolpec",tableDestroy:"Izbriši tabelo"},sk:{table:"Vytvoriť tabuľky",tableAddRow:"Pridať riadok",tableAddRowAbove:"Pridať riadok",tableAddColumnLeft:"Pridať stĺpec",tableAddColumn:"Pridať stĺpec"},tr:{table:"Tablo ekle",tableAddRow:"Satır ekle",tableAddRowAbove:"Yukarıya satır ekle",tableAddColumnLeft:"Sola sütun ekle",tableAddColumn:"Sağa sütun ekle",tableDeleteRow:"Satırı sil",tableDeleteColumn:"Sütunu sil",tableDestroy:"Tabloyu sil"},zh_tw:{table:"插入表格",tableAddRow:"加入行",tableAddRowAbove:"加入行",tableAddColumnLeft:"加入列",tableAddColumn:"加入列",tableDeleteRow:"刪除行",tableDeleteColumn:"刪除列",tableDestroy:"刪除表格"},es:{table:"Insertar tabla",tableAddRow:"Agregar fila",tableAddRowAbove:"Agregar fila arriba",tableAddColumnLeft:"Agregar columna a la izquierda",tableAddColumn:"Agregar columna a la derecha",tableDeleteRow:"Borrar fila",tableDeleteColumn:"Borrar columna",tableDestroy:"Borrar tabla"}},plugins:{table:{init:function(a){var n;a.o.plugins.table=e.extend(!0,{},t,a.o.plugins.table||{});var l={fn:function(){a.saveRange();var t="table",o=a.o.prefix+"dropdown",l={class:o+"-table "+o+" "+a.o.prefix+"fixed-top"};l["data-"+o]=t;var i=e("<div/>",l);if(0===a.$box.find("."+o+"-"+t).length?a.$box.append(i.hide()):i=a.$box.find("."+o+"-"+t),i.html(""),a.$box.find("."+a.o.prefix+"table-button").hasClass(a.o.prefix+"active-button")){var s=e(a.doc.getSelection().anchorNode).closest("table"),u=c(s),f=void 0!==n;e(a.o.plugins.table.dropdown).each((function(t,o){i.append(e("<div/>",{html:a.lang[o.title]?a.lang[o.title]:o.title,class:a.o.prefix+"table-dropdown-title"})).text();var n=e("<div/>",{class:a.o.prefix+"dropdown-button-group"});e(o.buttons).each((function(t,o){if(("tableAddHeaderRow"!==o||0===e("thead",s).length)&&("tableMergeCells"!==o||f)){if("tableUnmergeCells"===o){var l=!1;if(D((function(e){var t=e.is("[colspan]")||e.is("[rowspan]");l=l||t}),u),!l)return}n.append(a.buildSubBtn(o))}})),i.append(n)}))}else{var g=e("<table/>");e("<tbody/>").appendTo(g);for(var b=0;b<a.o.plugins.table.rows;b+=1)for(var m=e("<tr/>").appendTo(g),p=0;p<a.o.plugins.table.columns;p+=1)e("<td/>").appendTo(m);g.find("td").on("mouseover",r),g.find("td").on("mousedown",d),i.append(g),i.append(e('<div class="trumbowyg-table-size">1x1</div>'))}a.dropdown(t)},class:a.o.prefix+"open-dropdown"},r=function(t){var o=e(t.target).closest("table"),a=this.cellIndex,n=this.parentNode.rowIndex;o.find("td").removeClass("active");for(var l=0;l<=n;l+=1)for(var r=0;r<=a;r+=1)o.find("tr:nth-of-type("+(l+1)+")").find("td:nth-of-type("+(r+1)+")").addClass("active");o.next(".trumbowyg-table-size").html(a+1+"x"+(n+1))},i=function(t){var o=a.o.tagClasses[t.tagName.toLowerCase()];o&&e(t).addClass(o)},s=function(t){i(t[0]),e("*",t).each((function(e,t){i(t)}))},d=function(){a.saveRange();var t=e("<table/>"),o=e("<thead/>"),n=e("<tr/>");n.appendTo(o);for(var l=0;l<=this.cellIndex;l+=1)e("<th/>",{scope:"col"}).appendTo(n);o.appendTo(t);for(var r=e("<tbody/>"),i=this.cellIndex,d=this.parentNode.rowIndex,c=0;c<=d;c+=1)for(var u=e("<tr/>").appendTo(r),f=0;f<=i;f+=1)e("<td/>").appendTo(u);r.appendTo(t),s(t);for(var g=a.range.endContainer;g.nodeType!==Node.ELEMENT_NODE;)g=g.parentNode;g!==a.$ed[0]&&a.range.setEndAfter(g),a.range.collapse(),a.range.insertNode(t[0]),"P"===g.nodeName&&0===g.textContent.trim().length&&g.remove(),a.syncCode(),L()},c=function(t){for(var o=e("tr",t),a=[],n=0;n<o.length;n+=1)a.push([]);return o.each((function(t,o){var n=0;e("td, th",e(o)).each((function(o,l){for(var r=e(l),i=r.attr("colspan"),s=r.attr("rowspan"),d=parseInt(i||1,10),c=parseInt(s||1,10);void 0!==a[t][n];)n+=1;a[t][n]={tag:l.tagName,element:l,colspan:d,rowspan:c};for(var u=1;u<d;u+=1)a[t][n+u]={mergedIn:[t,n]};for(var f=1;f<c;f+=1){a[t+f][n]={mergedIn:[t,n]};for(var g=1;g<d;g+=1)a[t+f][n+g]={mergedIn:[t,n]}}n+=d}))})),a},u=function(t){return function(){a.saveRange();var o=a.doc.getSelection().anchorNode,n=e(o).closest("table");if(0!==n.length){"TR"===o.tagName&&(o=e("td, th",o)[0]);var l=e(o).closest("tr"),r=c(n);t(n,l,o,r),a.syncCode()}}},f=function(t=!1){return u((function(o,a,n,l){var r=e("tr",o),i=e("<tr/>"),d=r.index(a);if(t)d=Math.max(0,d-1),a=e(r[d]);else{var c=e(n).closest("td, th").attr("rowspan"),u=parseInt(c||1,10);a=e(r[d+=u-1])}var f=e("tbody tr",o),g=0!==a.closest("thead").length;g&&(a=f.first());for(var b=l[d],m=l[d+1],p=l[0].length,h=0;h<p;h+=1){if(void 0!==m){var v=b[h],C=A(l,v.mergedIn),x=m[h],w=A(l,x.mergedIn),y=v.element?v:C,k=y.element;if(k===(x.element?x.element:w.element)){k.setAttribute("rowspan",y.rowspan+1);continue}}e("<td/>").appendTo(i)}0===d&&(t||g)?a.before(i):a.after(i),s(o),L()}))},g={title:a.lang.tableAddRowAbove,text:a.lang.tableAddRowAbove,ico:"row-above",fn:f(!0)},b={title:a.lang.tableAddRow,text:a.lang.tableAddRow,ico:"row-below",fn:f(!1)},m={title:a.lang.tableAddHeaderRow,text:a.lang.tableAddHeaderRow,ico:"header-row",fn:u((function(t,o,a,n){if(0!==e("thead",t).length)return!1;for(var l=n[0].length,r=e("<thead/>"),i=e("<tr/>").appendTo(r),d=0;d<l;d+=1)e("<th/>").appendTo(i);t.prepend(r),s(t),L()}))},p=function(t=!1){return u((function(o,n,l,r){var i=r[e("tr",o).index(n)],d=e(l).closest("td, th"),c=T(d[0],i);if(t)c=Math.max(0,c-1);else{var u=d.attr("colspan");c+=parseInt(u||1,10)-1}for(var f=r.length,g=t&&0===c,b=0;b<f;b+=1){var m,p=r[b],h=g?void 0:p[c+1];if(void 0!==h){var v=p[c],C=A(r,v.mergedIn),x=A(r,h.mergedIn),w=v.element?v:C,y=w.element;if(y===(h.element?h.element:x.element)){y.setAttribute("colspan",w.colspan+1);continue}}var k=0;do{var R=c-k;if(R<0)break;m=p[R],k+=1}while(void 0!==m.mergedIn);var $=m.element,z=a.doc.createElement($.tagName);0===c&&t?$.before(z):$.after(z)}s(o),L()}))},h={title:a.lang.tableAddColumnLeft,text:a.lang.tableAddColumnLeft,ico:"col-left",fn:p(!0)},v={title:a.lang.tableAddColumn,text:a.lang.tableAddColumn,ico:"col-right",fn:p(!1)},C={title:a.lang.tableDestroy,text:a.lang.tableDestroy,ico:"table-delete",fn:u((function(e){e.remove()}))},x={title:a.lang.tableDeleteRow,text:a.lang.tableDeleteRow,ico:"row-delete",fn:u((function(t,o,a,n){if(1!==e("tbody tr",t).length){var l=o,r=o.parent();r.is("thead")&&(l=r);for(var i=e("tr",t),s=i.index(e(a).closest("tr")),d=0;d<n[0].length;d+=1){var c=A(n,[s,d],!1);if(1!==c.rowspan){var u=A(n,[s,d]);if(u.element.setAttribute("rowspan",u.rowspan-1),void 0===c.mergedIn){var f=T(c.element,n[s]);if(0!==f){var g=A(n,[s+1,f-1]);e(g.element).after(u.element)}else e(i[s+1]).prepend(u.element)}}}l.remove(),y(t),O()}else t.remove()}))},w={title:a.lang.tableDeleteColumn,text:a.lang.tableDeleteColumn,ico:"col-delete",fn:u((function(t,o,a,n){for(var l=e("tr",t).index(e(a).closest("tr")),r=T(e(a).closest("td, th")[0],n[l]),i=0;i<n.length;i+=1){var s=A(n,[i,r],!1);if(s.colspan>1){var d=A(n,[i,r]);d.element.setAttribute("colspan",d.colspan-1)}else s.element.remove()}y(),O()}))},A=function(e,t,o=!0){if(void 0!==t){var a=e[t[0]][t[1]];return o&&void 0!==a.mergedIn&&(a=e[a.mergedIn[0]][a.mergedIn[1]]),a}},y=function(t){var o=c(t),a=e("tr",t);e(o).each((function(t,n){n.every((function(e){return void 0!==e.mergedIn}))&&(e(o[t-1]).each((function(e,t){void 0!==t.mergedIn&&(t=A(o,t.mergedIn)),t.rowspan-=1,t.rowspan<=1?t.element.removeAttribute("rowspan"):t.element.setAttribute("rowspan",t.rowspan)})),a[t].remove())})),e('[class=""]',t).removeAttr("class"),e('[style=""]',t).removeAttr("style")},k={title:a.lang.tableMergeCells,text:a.lang.tableMergeCells,ico:"table-merge",fn:u((function(t,o,a,l){if(function(t){if(0===n.length)return!1;var o=n[0],a=A(t,o).tag;if(!n.every((function(e){return A(t,e).tag===a})))return!1;var l=[],r=[];if(e(n).each((function(e,o){for(var a=o[0],n=o[1],i=t[a][n],s=a+i.rowspan;a<s;a+=1)void 0===l[a]&&(l[a]=t[0].length),void 0===r[a]&&(r[a]=0),l[a]=Math.min(l[a],n),r[a]=Math.max(r[a],n+i.colspan)})),0===l.length||0===r.length)return!1;var i=l.every((function(e){return e===l[l.length-1]})),s=r.every((function(e){return e===r[r.length-1]}));return i&&s}(l)){var r=function(){var t=999999,o=t,a=t;if(e(n).each((function(e,t){o=Math.min(t[0],o),a=Math.min(t[1],a)})),a!==t&&o!==t)return[o,a]}();if(void 0!==r){var i=A(l,r),s=e(i.element),d=999999,c=0,u=999999,f=0;e(n).each((function(e,t){var o=t[0],a=t[1],n=l[o][a];d=Math.min(d,o),c=Math.max(c,o+n.rowspan-1),u=Math.min(u,a),f=Math.max(f,a+n.colspan-1),n.element!==s[0]&&n.element.remove()}));var g=c-d+1,b=f-u+1;g>1&&s.attr("rowspan",g),b>1&&s.attr("colspan",b),y(t),L()}}}))},R={title:a.lang.tableUnmergeCells,text:a.lang.tableUnmergeCells,ico:"table-unmerge",fn:u((function(t,o,n,l){D((function(o){o.removeAttr("colspan").removeAttr("rowspan");for(var n=e("tr",t).index(o.closest("tr")),r=T(o[0],l[n]),i=l[n][r],s=0;s<i.rowspan;s+=1)for(var d=0===s?1:0,c=A(l,[n+s,r+d-1]).element;d<i.colspan;d+=1){var u=a.doc.createElement(c.tagName);e(c).after(u)}}),l),s(t),L()}))},T=function(e,t){return t.findIndex((function(t){return void 0!==t.element&&t.element===e}))},$=function(){e("table",a.$ed).off("mousedown.tbwTable"),e("table",a.$ed).on("mousedown.tbwTable",(function(e){a.doc.getSelection().removeAllRanges(),e.ctrlKey&&e.preventDefault()}))},z=a.o.prefix+"table-cell-selection-mode",B=a.o.prefix+"table-cell-selected";setTimeout((function(){$(),a.$c.on("tbwchange.tbwTable",(function(){$(),L()})),L(),e(a.doc).on("selectionchange.tbwTable",(function(){n=void 0;var t=a.doc.getSelection(),o=t.rangeCount,l=t.anchorNode,r=t.focusNode;if(o>1){var i=t.getRangeAt(0),s=t.getRangeAt(o-1);l=i.startContainer.childNodes[i.startOffset],r=s.startContainer.childNodes[s.startOffset]}var d=e(l).closest("td, th"),u=e(r).closest("td, th"),f=d.closest("table"),g=u.closest("table");if(e('[class="'+B+'"]',a.$ed).removeAttr("class"),e("."+B,a.$ed).removeClass(B),0===f.length&&0===g.length||f[0]!==g[0]||d[0]===u[0])e("."+z,a.$ed).removeClass(z);else{f.addClass(z);var b=c(f),m=e("tr",f),p=d.closest("tr"),h=m.index(p),v=u.closest("tr"),C=m.index(v),x=T(d[0],b[h]),w=T(u[0],b[C]),A=Math.min(h,C),y=Math.max(h,C),k=Math.min(x,w),R=Math.max(x,w),$=[];m.each((function(t,o){t<A||t>y||e("td, th",o).each((function(o,a){var n=T(a,b[t]);n<k||n>R||($.push([t,n]),e(a).addClass(B))}))})),n=$}}))}));var D=function(t,o){if(void 0!==n)e(n).each((function(a,n){var l=A(o,n,!1);void 0===l.mergedIn&&t(e(l.element))}));else{var l=e(a.doc.getSelection().anchorNode).closest("td, th");if(0===l.length)return;t(l)}},S="trumbowyg-table-handle-for",L=function(){if(a.o.plugins.table.allowHorizontalResize){var t,o,n,l=e(a.o.prefix+"table-resize-layers"),r=l.length>0;r||(l=e("<div/>",{class:a.o.prefix+"table-resize-layers"}).appendTo(a.$edBox),e(a.o.prefix+"table-resize-vertical-handle",l).each((function(t,o){e(o).off().remove()}))),e("table",a.$ed).each((function(r,i){e("td, th",e(i)).each((function(r,i){e("<div/>",{class:a.o.prefix+"table-resize-vertical-handle"}).prop(S,i).on("mousedown.tbwTable",(function(a){a.preventDefault(),a.stopPropagation();var l=e(a.target).prop(S);n=e(l).closest("table"),t=c(n);var r=e("tr",n),i=e(l).closest("tr"),s=r.index(i),d=t[s],u=T(l,d),f=t[s][u];void 0!==f.mergedIn&&(f=t[f.mergedIn[0]][f.mergedIn[1]]),o=u+f.colspan-1,I(n,t),N(n,t),n.css({maxWidth:""})})).appendTo(l)}))})),O(),r||(e(a.doc).on("mousemove.tbwTable",(function(a){if(void 0!==o){a.preventDefault(),a.stopPropagation();var l=n[0].getBoundingClientRect(),r=a.pageX-l.left-(E(t,o).element.getBoundingClientRect().left-l.left),i=e("col",n)[o];e(i).css({width:r}),O()}})).on("mouseup.tbwTable",(function(e){void 0!==o&&(e.preventDefault(),e.stopPropagation(),I(n,t),P(n,t),n=void 0,t=void 0,o=void 0,a.syncCode(),O())})),e(window).on("resize.tbwTable",(function(){O()})))}},I=function(t,o){var a=e("colgroup",t);0===a.length&&(a=e("<colgroup/>").prependTo(t));for(var n=o[0].length,l=e("col",a).length;l<n;l+=1)e("<col/>").appendTo(a)},E=function(e,t){var o,a=0;do{o=e[a][t],a+=1}while(void 0===o.element||1!==o.colspan);return o},M=function(t,o,a=!1){var n=e("colgroup",t),l=e("col",n),r=t[0].offsetWidth;t.css({maxWidth:t[0].offsetWidth});for(var i=o[0].length,s=[],d=0;d<i;d+=1){var c=E(o,d).element.getBoundingClientRect().width;a&&(c=c/r*100+"%"),s[d]=c}for(var u=0;u<i;u+=1)e(l[u]).css({width:s[u]})},N=function(e,t){M(e,t,!1)},P=function(e,t){M(e,t,!0)},O=function(){var t=e("."+a.o.prefix+"table-resize-layers",a.$edBox),o=t[0].getBoundingClientRect(),n=o.top,l=o.left;e("."+a.o.prefix+"table-resize-vertical-handle",t).each((function(t,o){var a=e(o),r=a.prop(S).getBoundingClientRect();a.css({top:r.top-n,left:r.left-l+r.width,height:r.height})}))},j=function(e){return u((function(t,o,a,n){D((function(t){t.css({verticalAlign:e})}),n)}))},H={title:a.lang.tableVerticalAlignTop,text:a.lang.tableVerticalAlignTop,ico:"align-top",fn:j("top")},F={title:a.lang.tableVerticalAlignMiddle,text:a.lang.tableVerticalAlignMiddle,ico:"align-middle",fn:j("middle")},V={title:a.lang.tableVerticalAlignBottom,text:a.lang.tableVerticalAlignBottom,ico:"align-bottom",fn:j("bottom")},U=function(e){return e?a.o.prefix+"dropdown--color-list":""},K=function(t,n,l,r,i){var s=[],d=a.o.plugins.table;e.each(n,(function(e,o){var n=t+o,l={fn:i("#"+o),hasIcon:!1,text:a.lang["#"+o]||"#"+o,style:"background-color: #"+o+";"};a.addBtnDef(n,l),s.push(n)}));var c="remove"+o(t),u={fn:i(""),hasIcon:!1,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};if(l&&(u.style=""),a.addBtnDef(c,u),s.push(c),d.allowCustomBackgroundColor){var f={fn:function(){a.openModalInsert(a.lang.backgroundColor,{color:{label:"backgroundColor",forceCss:!0,type:"color",value:"#FFFFFF"}},(function(e){return i(e.color)(),!0}))},hasIcon:!1,text:"#",style:"text-indent: 0; line-height: 20px; padding: 0 5px;"},g="free"+o(t);a.addBtnDef(g,f),s.push(g)}return s},_={dropdown:K("tableCellBackgroundColor",a.o.plugins.table.backgroundColorList||a.o.plugins.table.colorList,a.o.plugins.table.displayBackgroundColorsAsList,a.o.plugins.table.allowCustomBackgroundColor,(function(t){return function(){var o=e(a.doc.getSelection().anchorNode).closest("table");if(0!==o.length){var n=c(o);D((function(e){e.css({backgroundColor:t})}),n),y(o)}}})),dropdownClass:U(a.o.plugins.table.displayBackgroundColorsAsList)},W={dropdown:K("tableBorderColor",a.o.plugins.table.borderColorList||a.o.plugins.table.colorList,a.o.plugins.table.displayBorderColorsAsList,a.o.plugins.table.allowCustomBorderColor,(function(t){return function(){var o=e(a.doc.getSelection().anchorNode).closest("table");if(0!==o.length){var n={borderColor:t};0===parseInt(o.css("border-width"),10)&&(n.borderWidth="2px",n.borderStyle="solid"),""===t&&(n.borderWidth="",n.borderStyle=""),o.css(n)}}})),dropdownClass:U(a.o.plugins.table.displayBorderColorsAsList)};a.addBtnDef("table",l),a.addBtnDef("tableAddHeaderRow",m),a.addBtnDef("tableAddRowAbove",g),a.addBtnDef("tableAddRow",b),a.addBtnDef("tableAddColumnLeft",h),a.addBtnDef("tableAddColumn",v),a.addBtnDef("tableMergeCells",k),a.addBtnDef("tableUnmergeCells",R),a.addBtnDef("tableVerticalAlignTop",H),a.addBtnDef("tableVerticalAlignMiddle",F),a.addBtnDef("tableVerticalAlignBottom",V),a.addBtnDef("tableCellBackgroundColor",_),a.addBtnDef("tableBorderColor",W),a.addBtnDef("tableDeleteRow",x),a.addBtnDef("tableDeleteColumn",w),a.addBtnDef("tableDestroy",C)},destroy:function(t){e(window).off("resize.tbwTable"),e(t.doc).off("selectionchange.tbwTable").off("mousemove.tbwTable").off("mouseup.tbwTable"),t.$c.off("tbwchange.tbwTable"),e("table",t.$ed).off("mousedown.tbwTable")},tagHandler:function(e,t){var a=[];if("TABLE"===e.tagName){a.push("table");var l=e.style.borderColor;if(""!==l){var r=n(l);t.o.plugins.table.colorList.indexOf(r)>=0?a.push("tableBorderColor"+r):a.push("freeTableBorderColor")}}if(!e.style)return a;var i=e.style.verticalAlign;""!==i&&a.push("tableVerticalAlign"+o(i));var s=e.style.backgroundColor;if(("TH"===e.tagName||"TD"===e.tagName)&&""!==s){var d=n(s);t.o.plugins.table.colorList.indexOf(d)>=0?a.push("tableCellBackgroundColor"+d):a.push("freeTableCellBackgroundColor")}return a}}}})}(jQuery)},54753:function(){jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",_self:"Same tab (default)",_blank:"New tab",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,linkTargets:["_self","_blank"],svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(e,t,o,a){"use strict";var n="tbwconfirm",l="tbwcancel";a.fn.trumbowyg=function(e,t){var o="trumbowyg";if(e===Object(e)||!e)return this.each((function(){a(this).data(o)||a(this).data(o,new r(this,e))}));if(1===this.length)try{var n=a(this).data(o);switch(e){case"execCmd":return n.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return n.openModal(t.title,t.content);case"closeModal":return n.closeModal();case"openModalInsert":return n.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return n.saveRange();case"getRange":return n.range;case"getRangeText":return n.getRangeText();case"restoreRange":return n.restoreRange();case"enable":return n.setDisabled(!1);case"disable":return n.setDisabled(!0);case"toggle":return n.toggle();case"destroy":return n.destroy();case"empty":return n.empty();case"html":return n.html(t)}}catch(e){}return!1};var r=function(n,l){var r=this,i=a.trumbowyg;r.doc=n.ownerDocument||o,r.$ta=a(n),r.$c=a(n),null!=(l=l||{}).lang||null!=i.langs[l.lang]?r.lang=a.extend(!0,{},i.langs.en,i.langs[l.lang]):r.lang=i.langs.en,r.hideButtonTexts=null!=i.hideButtonTexts?i.hideButtonTexts:l.hideButtonTexts;var s=null!=i.svgPath?i.svgPath:l.svgPath;if(r.hasSvg=!1!==s,!1!==s&&(i.svgAbsoluteUseHref||0===a("#trumbowyg-icons",r.doc).length))if(null==s&&a("script[src]").each((function(e,t){var o=t.src,a=o.match("trumbowyg(.min)?.js");null!=a&&(s=o.substring(0,o.indexOf(a[0]))+"ui/icons.svg")})),null==s)console.warn("You must define svgPath: https://goo.gl/CfTY9U");else if(!i.svgAbsoluteUseHref){var d=r.doc.createElement("div");d.id="trumbowyg-icons",r.doc.body.insertBefore(d,r.doc.body.childNodes[0]),a.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:s,data:null,beforeSend:null,complete:null,success:function(e){d.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}var c=r.doc.querySelector("base")?t.location.href.replace(t.location.hash,""):"";r.svgPath=i.svgAbsoluteUseHref?s:c;var u=r.lang.header,f=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};r.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:f,key:"Z"},redo:{isSupported:f,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:u+" 1"},h2:{fn:"formatBlock",title:u+" 2"},h3:{fn:"formatBlock",title:u+" 3"},h4:{fn:"formatBlock",title:u+" 4"},h5:{fn:"formatBlock",title:u+" 5"},h6:{fn:"formatBlock",title:u+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},r.o=a.extend(!0,{},i.defaultOptions,l),r.o.hasOwnProperty("imgDblClickHandler")||(r.o.imgDblClickHandler=r.getDefaultImgDblClickHandler()),r.urlPrefix=r.setupUrlPrefix(),r.disabled=r.o.disabled||"TEXTAREA"===n.nodeName&&n.disabled,l.btns?r.o.btns=l.btns:r.o.semantic||(r.o.btns[3]=["bold","italic","underline","strikethrough"]),a.each(r.o.btnsDef,(function(e,t){r.addBtnDef(e,t)})),r.eventNamespace="trumbowyg-event",r.keys=[],r.tagToButton={},r.tagHandlers=[],r.pasteHandlers=[].concat(r.o.pasteHandlers),r.isIE=-1!==e.userAgent.indexOf("MSIE")||-1!==e.appVersion.indexOf("Trident/"),r.isMac=-1!==e.platform.toUpperCase().indexOf("MAC"),r.init()};r.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.outerHeight()-39,e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout((function(){e.disabled&&e.setDisabled(!0),e.$c.trigger("tbwinit")}))},addBtnDef:function(e,t){this.btnsDef[e]=a.extend(t,this.btnsDef[e]||{})},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return"string"!=typeof e?"https://":e.replace("://","")+"://"},buildEditor:function(){var e=this,o=e.o.prefix,n="";e.$box=a("<div/>",{class:o+"box "+o+"editor-visible "+o+e.o.lang+" trumbowyg"}),e.$edBox=a("<div/>",{class:o+"editor-box"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(n=e.$ta.val(),e.$ed=a("<div/>").appendTo(e.$edBox),e.$box.insertAfter(e.$ta).append(e.$edBox,e.$ta)):(e.$ed=e.$ta,n=e.$ed.html(),e.$ta=a("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(n),e.$box.insertAfter(e.$ed).append(e.$ta,e.$edBox),e.$edBox.append(e.$ed),e.syncCode()),e.$ta.addClass(o+"textarea").attr("tabindex",-1),e.$ed.addClass(o+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(n),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.$c.is("[spellcheck]")&&e.$ed.attr("spellcheck",e.$c.attr("spellcheck")),e.o.resetCss&&e.$ed.addClass(o+"reset-css"),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(o+"autogrow-on-enter");var l,r=!1,i=!1;e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",(function(t){var o=t.which;if(8!==o&&13!==o&&46!==o||e.toggleSpan(!0),!t.ctrlKey&&!t.metaKey||t.altKey){if(e.o.tabToIndent&&"Tab"===t.key)try{return t.shiftKey?e.execCmd("outdent",!0,null):e.execCmd("indent",!0,null),!1}catch(e){}}else{r=!0;var a=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(a.fn,a.param),!1}catch(e){}}})).on("compositionstart compositionupdate",(function(){i=!0})).on("keyup compositionend",(function(t){if("compositionend"===t.type)i=!1;else if(i)return;var o=t.which;if(!(o>=37&&o<=40)){if(8!==o&&13!==o&&46!==o||e.toggleSpan(),!t.ctrlKey&&!t.metaKey||89!==o&&90!==o)if(r||16===o||17===o)void 0===t.which&&e.semanticCode(!1,!1,!0);else{var a=!e.isIE||"compositionend"===t.type;e.semanticCode(!1,a&&13===o),e.$c.trigger("tbwchange")}else e.semanticCode(!1,!0),e.$c.trigger("tbwchange");setTimeout((function(){r=!1}),50)}})).on("input",(function(t){var o=t.originalEvent;"object"==typeof o&&("insertReplacementText"===o.inputType||"insertText"===o.inputType&&null===o.data)&&e.$c.trigger("tbwchange")})).on("mouseup keydown keyup",(function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout((function(){r=!1}),50),clearTimeout(l),l=setTimeout((function(){e.updateButtonPaneStatus()}),50)})).on("focus blur",(function(t){if("blur"===t.type&&e.clearButtonPaneStatus(),e.$c.trigger("tbw"+t.type),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;"focus"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$edBox.css({height:e.$edBox.css("min-height")}),e.$c.trigger("tbwresize"))}})).on("keyup focus",(function(){e.$ta.val().match(/<.*>/)||e.$ed.html().match(/<.*>/)||setTimeout((function(){var t=e.isIE?"<p>":"p";e.doc.execCommand("formatBlock",!1,t),e.syncCode()}),0)})).on("cut drop",(function(){setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger("tbwchange")}),0)})).on("paste",(function(o){if(e.o.removeformatPasted){o.preventDefault(),t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var n=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(n)}catch(t){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(n))}e.$c.trigger("tbwchange",o)}catch(t){e.execCmd("insertText",(o.originalEvent||o).clipboardData.getData("text/plain"))}}a.each(e.pasteHandlers,(function(e,t){t(o)})),setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger("tbwpaste",o),e.$c.trigger("tbwchange")}),0)})),e.$ta.on("keyup",(function(){e.$c.trigger("tbwchange")})).on("paste",(function(){setTimeout((function(){e.$c.trigger("tbwchange")}),0)})),a(e.doc.body).on("keydown."+e.eventNamespace,(function(t){if(27===t.which&&a("."+o+"modal-box").length>=1)return e.closeModal(),!1}))},autogrowEditorOnEnter:function(){var e=this;e.$ed.removeClass("autogrow-on-enter");var t=e.$ed[0].clientHeight;e.$edBox.height("auto");var o=e.$ed[0].scrollHeight;e.$ed.addClass("autogrow-on-enter"),t!==o&&(e.$edBox.height(t),setTimeout((function(){e.$edBox.css({height:o}),e.$c.trigger("tbwresize")}),0))},buildBtnPane:function(){var e=this,t=e.o.prefix,o=e.$btnPane=a("<div/>",{class:t+"button-pane"});a.each(e.o.btns,(function(n,l){Array.isArray(l)||(l=[l]);var r=a("<div/>",{class:t+"button-group "+(l.indexOf("fullscreen")>=0?t+"right":"")});a.each(l,(function(t,o){try{e.isSupportedBtn(o)&&r.append(e.buildBtn(o))}catch(e){}})),r.html().trim().length>0&&o.append(r)})),e.$box.prepend(o)},buildBtn:function(e){var t=this,o=t.o.prefix,n=t.btnsDef[e],l=n.dropdown,r=null==n.hasIcon||n.hasIcon,i=t.lang[e]||e,s=a("<button/>",{type:"button",class:o+e+"-button "+(n.class||"")+(r?"":" "+o+"textual-button"),html:t.hasSvg&&r?'<svg><use xlink:href="'+t.svgPath+"#"+o+(n.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':t.hideButtonTexts?"":n.text||n.title||t.lang[e]||e,title:(n.title||n.text||i)+(n.key?" ("+(t.isMac?"Cmd":"Ctrl")+" + "+n.key+")":""),tabindex:-1,mousedown:function(){return l&&!a("."+e+"-"+o+"dropdown",t.$box).is(":hidden")||a("body",t.doc).trigger("mousedown"),!((t.$btnPane.hasClass(o+"disable")||t.$box.hasClass(o+"disabled"))&&!a(this).hasClass(o+"active")&&!a(this).hasClass(o+"not-disable")||(t.execCmd((l?"dropdown":n.fn)||e,n.param||e,n.forceCss),1))}});if(l){s.addClass(o+"open-dropdown");var d=o+"dropdown",c={class:d+"-"+e+" "+d+" "+o+"fixed-top "+(n.dropdownClass||"")};c["data-"+d]=e;var u=a("<div/>",c);a.each(l,(function(e,o){t.btnsDef[o]&&t.isSupportedBtn(o)&&u.append(t.buildSubBtn(o))})),t.$box.append(u.hide())}else n.key&&(t.keys[n.key]={fn:n.fn||e,param:n.param||e});return l||(t.tagToButton[(n.tag||e).toLowerCase()]=e),s},buildSubBtn:function(e){var t=this,o=t.o.prefix,n=t.btnsDef[e],l=null==n.hasIcon||n.hasIcon;return n.key&&(t.keys[n.key]={fn:n.fn||e,param:n.param||e}),t.tagToButton[(n.tag||e).toLowerCase()]=e,a("<button/>",{type:"button",class:o+e+"-dropdown-button "+(n.class||"")+(n.ico?" "+o+n.ico+"-button":""),html:t.hasSvg&&l?'<svg><use xlink:href="'+t.svgPath+"#"+o+(n.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(n.text||n.title||t.lang[e]||e):n.text||n.title||t.lang[e]||e,title:n.key?"("+(t.isMac?"Cmd":"Ctrl")+" + "+n.key+")":null,style:n.style||null,mousedown:function(){return a("body",t.doc).trigger("mousedown"),t.execCmd(n.fn||e,n.param||e,n.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){var e=this;return e.$overlay=a("<div/>",{class:e.o.prefix+"overlay"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;a(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,o=e.o.fixedFullWidth,n=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,a(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,(function(){if(n){e.syncCode();var l=a(t).scrollTop(),r=n.offset().top+1,i=e.$btnPane,s=i.outerHeight()-2;l-r>0&&l-r-e.height<0?(e.isFixed||(e.isFixed=!0,i.css({position:"fixed",top:0,left:o?0:"auto",zIndex:7}),e.$box.css({paddingTop:i.height()})),i.css({width:o?"100%":n.width()-1}),a("."+e.o.prefix+"fixed-top",n).css({position:o?"fixed":"absolute",top:o?s:s+(l-r),zIndex:15})):e.isFixed&&(e.isFixed=!1,i.removeAttr("style"),e.$box.css({paddingTop:0}),a("."+e.o.prefix+"fixed-top",n).css({position:"absolute",top:s}))}})))},setDisabled:function(e){var t=this,o=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(o+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,o=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(o+"textarea").show()):e.$box.after(e.$edBox.css({height:""}).removeClass(o+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),a("body").removeClass(o+"body-fullscreen"),e.$c.trigger("tbwclose"),a(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace),a(e.doc.body).off("keydown."+e.eventNamespace)},empty:function(){this.doc.execCommand("insertHTML",!1,""),this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),e.$c.trigger("tbwchange"),setTimeout((function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),a("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()}),0)},toggleSpan:function(e){this.$ed.find("span").each((function(){!0===e?a(this).attr("data-tbw-flag",!0):a(this).attr("data-tbw-flag")?a(this).removeAttr("data-tbw-flag"):a(this).contents().unwrap()}))},dropdown:function(e){var o=this,n=a("body",o.doc),l=o.o.prefix,r=a("[data-"+l+"dropdown="+e+"]",o.$box),i=a("."+l+e+"-button",o.$btnPane),s=r.is(":hidden");if(n.trigger("mousedown"),s){var d=i.offset().left;i.addClass(l+"active"),r.css({position:"absolute",top:i.offset().top-o.$btnPane.offset().top+i.outerHeight(),left:o.o.fixedFullWidth&&o.isFixed?d:d-o.$btnPane.offset().left}).show(),a(t).trigger("scroll"),n.on("mousedown."+o.eventNamespace,(function(e){r.is(e.target)||(a("."+l+"dropdown",o.$box).hide(),a("."+l+"active",o.$btnPane).removeClass(l+"active"),n.off("mousedown."+o.eventNamespace))}))}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find(e.o.tagsToKeep.join(",")).length>0?e.$ed.html():"")},syncCode:function(e){var t=this;if(!e&&t.$ed.is(":visible"))t.syncTextarea();else{var o=a("<div>").html(t.$ta.val()),n=a("<div>").append(o);a(t.o.tagsToRemove.join(","),n).remove(),t.$ed.html(n.contents().html())}if(t.o.autogrow&&(t.height=t.$edBox.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter){t.$edBox.height("auto");var l=t.autogrowOnEnterWasFocused?t.$edBox[0].scrollHeight:t.$edBox.css("min-height");l!==t.$ta.css("height")&&(t.$edBox.css({height:l}),t.$c.trigger("tbwresize"))}},semanticCode:function(e,t,o){var n=this;n.saveRange(),n.syncCode(e);var l=!0;if(n.range&&n.range.collapsed&&(l=!1),n.o.semantic){if(n.semanticTag("b",n.o.semanticKeepAttributes),n.semanticTag("i",n.o.semanticKeepAttributes),n.semanticTag("s",n.o.semanticKeepAttributes),n.semanticTag("strike",n.o.semanticKeepAttributes),t){var r=n.o.inlineElementsSelector,i=":not("+r+")";n.$ed.contents().filter((function(){return 3===this.nodeType&&this.nodeValue.trim().length>0})).wrap("<span data-tbw/>");var s=function(e){if(0!==e.length){var t=e.nextUntil(i).addBack().wrapAll("<p/>").parent(),o=t.nextAll(r).first();t.next("br").remove(),s(o)}};s(n.$ed.children(r).first()),n.semanticTag("div",!0),a("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}!o&&l&&n.restoreRange(),n.syncTextarea()}},semanticTag:function(e,t,o){var n,l=this,r=e;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))n=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;n=this.DEFAULT_SEMANTIC_MAP[e]}o&&(e=n,n=r),a(e,this.$ed).each((function(){var e=!1,o=a(this);if(0===o.contents().length)return!1;l.range&&l.range.startContainer.parentNode===this&&(e=!0);var r=a("<"+n+"/>");r.insertBefore(o),t&&a.each(o.prop("attributes"),(function(){r.attr(this.name,this.value)})),r.html(o.html()),o.remove(),!0===e&&(l.range.selectNodeContents(r.get(0)),l.range.collapse(!1))}))},createLink:function(){for(var e,t,o,n=this,l=n.doc.getSelection(),r=l.getRangeAt(0),i=l.focusNode,s=(new XMLSerializer).serializeToString(r.cloneContents())||r+"",d=n.o.linkTargets[0];["A","DIV"].indexOf(i.nodeName)<0;)i=i.parentNode;if(i&&"A"===i.nodeName){var c=a(i);s=c.text(),e=c.attr("href"),n.o.minimalLinks||(t=c.attr("title"),o=c.attr("target")||d);var u=n.doc.createRange();u.selectNode(i),l.removeAllRanges(),l.addRange(u)}n.saveRange();var f={url:{label:n.lang.linkUrl||"URL",required:!0,value:e},text:{label:n.lang.text,value:s}};if(!n.o.minimalLinks){var g=n.o.linkTargets.reduce((function(e,t){return e[t]=n.lang[t],e}),{});a.extend(f,{title:{label:n.lang.title,value:t},target:{label:n.lang.target,value:o,options:g}})}n.openModalInsert(n.lang.createLink,f,(function(e){var t=n.prependUrlPrefix(e.url);if(!t.length)return!1;var o=a(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return e.title&&o.attr("title",e.title),(e.target||d)&&o.attr("target",e.target||d),n.range.deleteContents(),n.range.insertNode(o[0]),n.syncCode(),n.$c.trigger("tbwchange"),!0}))},prependUrlPrefix:function(e){return this.urlPrefix?/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(e)?e:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"mailto:"+e:this.urlPrefix+e:e},unlink:function(){var e=this,t=e.doc.getSelection(),o=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(o.nodeName)<0;)o=o.parentNode;if(o&&"A"===o.nodeName){var a=e.doc.createRange();a.selectNode(o),t.removeAllRanges(),t.addRange(a)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange();var t={url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}};e.o.imageWidthModalEdit&&(t.width={}),e.openModalInsert(e.lang.insertImage,t,(function(t){e.execCmd("insertImage",t.url,!1,!0);var o=a('img[src="'+t.url+'"]:not([alt])',e.$box);return o.attr("alt",t.alt),e.o.imageWidthModalEdit&&o.attr({width:t.width}),e.syncCode(),e.$c.trigger("tbwchange"),!0}))},fullscreen:function(){var e,o=this,n=o.o.prefix,l=n+"fullscreen",r=l+"-placeholder",i=o.$box.outerHeight();o.$box.toggleClass(l),(e=o.$box.hasClass(l))?o.$box.before(a("<div/>",{class:r}).css({height:i})):a("."+r).remove(),a("body").toggleClass(n+"body-fullscreen",e),a(t).trigger("scroll"),o.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(e,o,n,l){var r=this;l=!!l||"","dropdown"!==e&&r.$ed.focus(),"strikethrough"===e&&r.o.semantic&&r.semanticTag("strike",r.o.semanticKeepAttributes,!0);try{r.doc.execCommand("styleWithCSS",!1,n||!1)}catch(e){}try{r[e+l](o)}catch(n){try{e(o)}catch(n){"insertHorizontalRule"===e?o=void 0:"formatBlock"===e&&r.isIE&&(o="<"+o+">"),r.doc.execCommand(e,!1,o),r.syncCode(),r.semanticCode(!1,!0);try{var i=t.getSelection().focusNode;a(t.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(i=t.getSelection().focusNode.parentNode);var s=r.o.tagClasses[o];s&&a(i).addClass(s)}catch(e){}}"dropdown"!==e&&(r.updateButtonPaneStatus(),r.$c.trigger("tbwchange"))}},openModal:function(e,o,r){var i=this,s=i.o.prefix;if(r=!1!==r,a("."+s+"modal-box",i.$box).length>0)return!1;i.o.autogrowOnEnter&&(i.autogrowOnEnterDontClose=!0),i.saveRange(),i.showOverlay(),i.$btnPane.addClass(s+"disable");var d,c=a("<div/>",{class:s+"modal "+s+"fixed-top"}).css({top:i.$box.offset().top+i.$btnPane.height(),zIndex:99999}).appendTo(a(i.doc.body)),u=s+"dark";0!==i.$c.parents("."+u).length&&c.addClass(u),i.$overlay.one("click",(function(){return c.trigger(l),!1})),d=r?a("<form/>",{action:"",html:o}).on("submit",(function(){return c.trigger(n),!1})).on("reset",(function(){return c.trigger(l),!1})).on("submit reset",(function(){i.o.autogrowOnEnter&&(i.autogrowOnEnterDontClose=!1)})):o;var f=a("<div/>",{class:s+"modal-box",html:d}).css({top:"-"+i.$btnPane.outerHeight(),opacity:0,paddingBottom:r?null:"5%"}).appendTo(c).animate({top:0,opacity:1},100);return e&&a("<span/>",{text:e,class:s+"modal-title"}).prependTo(f),r&&(a(":input:first",f).focus(),i.buildModalBtn("submit",f),i.buildModalBtn("reset",f),c.height(f.outerHeight()+10)),a(t).trigger("scroll"),i.$c.trigger("tbwmodalopen"),c},buildModalBtn:function(e,t){var o=this.o.prefix;return a("<button/>",{class:o+"modal-button "+o+"modal-"+e,type:e,text:this.lang[e]||e}).appendTo(a("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var o=a("."+t+"modal-box",a(e.doc.body));o.animate({top:"-"+o.height()},100,(function(){o.parent().remove(),e.hideOverlay(),e.$c.trigger("tbwmodalclose")})),e.restoreRange()},openModalInsert:function(e,t,o){var r=this,i=r.o.prefix,s=r.lang,d="",c=i+"form-"+Date.now()+"-";return a.each(t,(function(e,t){var o=t.label||e,n=t.name||e,l=t.attributes||{},r=c+e,u=Object.keys(l).map((function(e){return e+'="'+l[e]+'"'})).join(" ");if("function"==typeof t.type)return t.name||(t.name=n),void(d+=t.type(t,r,i,s));d+='<div class="'+i+'input-row">',d+='<div class="'+i+'input-infos"><label for="'+r+'"><span>'+(s[o]?s[o]:o)+"</span></label></div>",d+='<div class="'+i+'input-html">',a.isPlainObject(t.options)?(d+='<select name="target">',d+=Object.keys(t.options).map((e=>'<option value="'+e+'" '+(e===t.value?"selected":"")+">"+t.options[e]+"</option>")).join(""),d+="</select>"):(d+='<input id="'+r+'" type="'+(t.type||"text")+'" name="'+n+'" '+u,d+=("checkbox"===t.type&&t.value?' checked="checked"':"")+' value="'+(t.value||"").replace(/"/g,"&quot;")+'">'),d+="</div></div>"})),r.openModal(e,d).on(n,(function(){var e=a("form",a(this)),l=!0,i={};a.each(t,(function(t,o){var n=o.name||t,s=a(':input[name="'+n+'"]',e);switch(s[0].type.toLowerCase()){case"checkbox":i[n]=s.is(":checked");break;case"radio":i[n]=s.filter(":checked").val();break;default:i[n]=a.trim(s.val())}o.required&&""===i[n]?(l=!1,r.addErrorOnModalField(s,r.lang.required)):o.pattern&&!o.pattern.test(i[n])&&(l=!1,r.addErrorOnModalField(s,o.patternError))})),l&&(r.restoreRange(),o(i,t)&&(r.syncCode(),r.$c.trigger("tbwchange"),r.closeModal(),a(this).off(n)))})).one(l,(function(){a(this).off(n),r.closeModal()}))},addErrorOnModalField:function(e,t){var o=this.o.prefix,n=o+"msg-error",l=e.closest("."+o+"input-row");e.on("change keyup",(function(){l.removeClass(o+"input-error"),setTimeout((function(){l.find("."+n).remove()}),150)})),l.addClass(o+"input-error").find("."+o+"input-infos label").append(a("<span/>",{class:n,text:t}))},getDefaultImgDblClickHandler:function(){var e=this;return function(){var t=a(this),o=t.attr("src"),n="(Base64)";0===o.indexOf("data:image")&&(o=n);var l={url:{label:"URL",value:o,required:!0},alt:{label:e.lang.description,value:t.attr("alt")}};return e.o.imageWidthModalEdit&&(l.width={value:t.attr("width")?t.attr("width"):""}),e.openModalInsert(e.lang.insertImage,l,(function(o){return o.url!==n&&t.attr({src:o.url}),t.attr({alt:o.alt}),e.o.imageWidthModalEdit&&(parseInt(o.width)>0?t.attr({width:o.width}):t.removeAttr("width")),!0})),!1}},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t&&t.rangeCount){var o,a=e.range=t.getRangeAt(0),n=e.doc.createRange();n.selectNodeContents(e.$ed[0]),n.setEnd(a.startContainer,a.startOffset),o=(n+"").length,e.metaRange={start:o,end:o+(a+"").length}}},restoreRange:function(){var e,t=this,o=t.metaRange,a=t.range,n=t.doc.getSelection();if(a){if(o&&o.start!==o.end){var l,r=0,i=[t.$ed[0]],s=!1,d=!1;for(e=t.doc.createRange();!d&&(l=i.pop());)if(3===l.nodeType){var c=r+l.length;!s&&o.start>=r&&o.start<=c&&(e.setStart(l,o.start-r),s=!0),s&&o.end>=r&&o.end<=c&&(e.setEnd(l,o.end-r),d=!0),r=c}else for(var u=l.childNodes,f=u.length;f>0;)f-=1,i.push(u[f])}try{n.removeAllRanges()}catch(e){}n.addRange(e||a)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var e=this,t=e.o.prefix,o=t+"active-button "+t+"active",n=t+"original-icon";a("."+t+"active-button",e.$btnPane).removeClass(o),a("."+n,e.$btnPane).each((function(){a(this).find("svg use").attr("xlink:href",a(this).data(n))}))},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,o=t+"active-button "+t+"active",n=t+"original-icon",l=e.getTagsRecursive(e.doc.getSelection().anchorNode);e.clearButtonPaneStatus(),a.each(l,(function(l,r){var i=e.tagToButton[r.toLowerCase()],s=a("."+t+i+"-button",e.$btnPane);if(s.length>0)s.addClass(o);else try{var d=(s=a("."+t+"dropdown ."+t+i+"-dropdown-button",e.$box)).find("svg use"),c=s.parent().data(t+"dropdown"),u=a("."+t+c+"-button",e.$box),f=u.find("svg use");u.addClass(o),e.o.changeActiveDropdownIcon&&d.length>0&&(u.addClass(n).data(n,f.attr("xlink:href")),f.attr("xlink:href",d.attr("xlink:href")))}catch(e){}}))},getTagsRecursive:function(e,t){var o=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode);var n=e.tagName;return"DIV"===n?t:("P"===n&&""!==e.style.textAlign&&t.push(e.style.textAlign),a.each(o.tagHandlers,(function(a,n){t=t.concat(n(e,o))})),t.push(n),o.getTagsRecursive(e.parentNode,t).filter((function(e){return null!=e})))},initPlugins:function(){var e=this;e.loadedPlugins=[],a.each(a.trumbowyg.plugins,(function(t,o){o.shouldInit&&!o.shouldInit(e)||(o.init(e),o.tagHandler&&e.tagHandlers.push(o.tagHandler),e.loadedPlugins.push(o))}))},destroyPlugins:function(){var e=this;a.each(this.loadedPlugins,(function(t,o){o.destroy&&o.destroy(e)}))}}}(navigator,window,document,jQuery)},81153:function(e,t,o){"use strict";e.exports=o.p+"js/dest/assets/icons.svg"}}]);