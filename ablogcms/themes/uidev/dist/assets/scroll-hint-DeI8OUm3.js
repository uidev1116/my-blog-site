import{g as H}from"./preload-helper-CqCcXmTM.js";function y(i,r){if(i==null)throw new TypeError("Cannot convert first argument to object");for(var o=Object(i),d=1;d<arguments.length;d++){var a=arguments[d];if(a!=null)for(var g=Object.keys(Object(a)),v=0,h=g.length;v<h;v++){var c=g[v],s=Object.getOwnPropertyDescriptor(a,c);s!==void 0&&s.enumerable&&(o[c]=a[c])}}return o}function O(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:y})}var I={assign:y,polyfill:O},C={exports:{}},p={};Object.defineProperty(p,"__esModule",{value:!0});p.append=function(r,o){var d=document.createElement("div");for(d.innerHTML=o;d.children.length>0;)r.appendChild(d.children[0])};p.addClass=function(r,o){r.classList?r.classList.add(o):r.className+=" "+o};p.removeClass=function(r,o){r.classList?r.classList.remove(o):r.className=r.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")};var T=p.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},L=p.getScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};p.getOffset=function(r){var o=r.getBoundingClientRect();return{top:o.top+T(),left:o.left+L()}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(s,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}return function(s,e,l){return e&&c(s.prototype,e),l&&c(s,l),s}}(),d=I,a=p;function g(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}var v={suggestClass:"is-active",scrollableClass:"is-scrollable",scrollableRightClass:"is-right-scrollable",scrollableLeftClass:"is-left-scrollable",scrollHintClass:"scroll-hint",scrollHintIconClass:"scroll-hint-icon",scrollHintIconAppendClass:"",scrollHintIconWrapClass:"scroll-hint-icon-wrap",scrollHintText:"scroll-hint-text",scrollHintBorderWidth:10,remainingTime:-1,enableOverflowScrolling:!0,applyToParents:!1,suggestiveShadow:!1,offset:0,i18n:{scrollable:"scrollable"}},h=function(){function c(s,e){var l=this;g(this,c),this.opt=(0,d.assign)({},v,e),this.items=[];var t=typeof s=="string"?document.querySelectorAll(s):s,f=this.opt.applyToParents;[].forEach.call(t,function(n){f&&(n=n.parentElement),n.style.position="relative",n.style.overflow="auto",l.opt.enableOverflowScrolling&&("overflowScrolling"in n.style?n.style.overflowScrolling="touch":"webkitOverflowScrolling"in n.style&&(n.style.webkitOverflowScrolling="touch"));var u={element:n,scrolledIn:!1,interacted:!1};document.addEventListener("scroll",function(b){b.target===n&&(u.interacted=!0,l.updateItem(u))},!0),(0,a.addClass)(n,l.opt.scrollHintClass),(0,a.append)(n,'<div class="'+l.opt.scrollHintIconWrapClass+`" data-target="scrollable-icon">
        <span class="`+l.opt.scrollHintIconClass+(l.opt.scrollHintIconAppendClass?" "+l.opt.scrollHintIconAppendClass:"")+`">
          <div class="`+l.opt.scrollHintText+'">'+l.opt.i18n.scrollable+`</div>
        </span>
      </div>`),l.items.push(u)}),window.addEventListener("scroll",function(){l.updateItems()}),window.addEventListener("resize",function(){l.updateItems()}),this.updateItems()}return o(c,[{key:"isScrollable",value:function(e){var l=this.opt.offset,t=e.element,f=t.offsetWidth;return f+l<t.scrollWidth}},{key:"checkScrollableDir",value:function(e){var l=this.opt,t=l.scrollHintBorderWidth,f=l.scrollableRightClass,n=l.scrollableLeftClass,u=e.element,b=u.children[0],m=b.scrollWidth,w=u.offsetWidth,S=u.scrollLeft;w+S<m-t?(0,a.addClass)(u,f):(0,a.removeClass)(u,f),w<m&&S>t?(0,a.addClass)(u,n):(0,a.removeClass)(u,n)}},{key:"needSuggest",value:function(e){var l=e.scrolledIn,t=e.interacted;return!t&&l&&this.isScrollable(e)}},{key:"updateItems",value:function(){var e=this;[].forEach.call(this.items,function(l){e.updateItem(l)})}},{key:"updateStatus",value:function(e){var l=this,t=e.element,f=e.scrolledIn;if(!f){var n=t.querySelector('[data-target="scrollable-icon"] > span');(0,a.getOffset)(n).top<(0,a.getScrollTop)()+window.innerHeight&&(e.scrolledIn=!0,this.opt.remainingTime!==-1&&setTimeout(function(){e.interacted=!0,l.updateItem(e)},this.opt.remainingTime))}}},{key:"updateItem",value:function(e){var l=this.opt,t=e.element,f=t.querySelector('[data-target="scrollable-icon"]');this.updateStatus(e),this.isScrollable(e)?(0,a.addClass)(t,l.scrollableClass):(0,a.removeClass)(t,l.scrollableClass),this.needSuggest(e)?(0,a.addClass)(f,l.suggestClass):(0,a.removeClass)(f,l.suggestClass),l.suggestiveShadow&&this.checkScrollableDir(e)}}]),c}();r.default=h,i.exports=r.default})(C,C.exports);var j=C.exports;const E=H(j),W=(i,r={})=>{const o={suggestClass:"is-active",scrollableClass:"is-scrollable",scrollableRightClass:"is-right-scrollable",scrollableLeftClass:"is-left-scrollable",scrollHintClass:"scroll-hint",scrollHintIconClass:"scroll-hint-icon",scrollHintIconAppendClass:"scroll-hint-icon-white",scrollHintIconWrapClass:"scroll-hint-icon-wrap",scrollHintText:"scroll-hint-text",remainingTime:-1,scrollHintBorderWidth:10,enableOverflowScrolling:!0,suggestiveShadow:!1,applyToParents:!1,i18n:{scrollable:"スクロールできます"}};new E(i,Object.assign(o,r))};export{W as default};
