<header>
  <div>@include("/admin/topicpath.html")</div>
  <div>
    <h1 class="acms-admin-admin-title js-dialog-title">
      <!--T-->監査ログ<!--/T-->
    </h1>
  </div>
</header>

<!-- BEGIN_MODULE Touch_EditionIsStandard -->
<p class="acms-admin-alert acms-admin-alert-info">
  行動・操作履歴であるログレベル「情報」は、プロフェッショナル以上のライセンスでのみ閲覧できます
</p>
<!-- END_MODULE Touch_EditionIsStandard -->

<!-- BEGIN_MODULE Touch_LoggerIsDevelopmentMode -->
<p class="acms-admin-alert acms-admin-alert-warning">
  本番環境の場合、「.env」ファイルの「LOGGER_MODE」を「production」に設定してください。
</p>
<!-- END_MODULE Touch_LoggerIsDevelopmentMode -->

<!-- BEGIN_MODULE Admin_Audit_Log -->
<form action="" method="post" class="acms-admin-form">
  <div class="acms-admin-filter">
    <div class="acms-admin-filter-body">
      <div class="acms-admin-filter-group">
        <div class="acms-admin-filter-content acms-admin-filter-content-fit">
          <div class="acms-admin-filter-item">
            <label for="filter-suid" class="acms-admin-filter-item-name">
              <!--T-->ユーザー<!--/T-->
            </label>
            <!-- BEGIN_MODULE Admin_User_SelectGlobal -->
            <select name="suid" id="filter-suid" class="js-select2">
              <option value=""><!--T-->全てのユーザー<!--/T--></option>
              <!-- BEGIN loop -->
              <option value="{value}" \{suid:selected#{value}\}>
                <!--T-->{label}<!--/T-->
              </option>
              <!-- END loop -->
            </select>
            <input type="hidden" name="query[]" value="suid" />
            <!-- END_MODULE Admin_User_SelectGlobal -->
          </div>

          <div class="acms-admin-filter-item">
            <label for="filter-start" class="acms-admin-filter-item-name"
              ><!--T-->期間<!--/T--></label
            >
            <div class="acms-admin-filter-item-content">
              <input
                type="text"
                name="start"
                value="{start}"
                class="js-datepicker2 acms-admin-form-width-mini"
                id="filter-start"
              />
              &nbsp;〜&nbsp;
              <input
                type="text"
                name="end"
                value="{end}"
                class="js-datepicker2 acms-admin-form-width-mini"
              />
            </div>
            <input type="hidden" name="span" value="true" />
          </div>

          <div class="acms-admin-filter-item">
            <label
              for="filter-limit"
              class="acms-admin-filter-item-name acms-admin-show-sp"
              ><!--T-->表示数<!--/T--></label
            >
            <div class="acms-admin-filter-item-content">
              <select name="limit" id="filter-limit" class="js-select2">
                <!-- BEGIN limit:loop -->
                <option value="{limit}" {selected}>{limit}</option>
                <!-- END limit:loop -->
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="acms-admin-filter-group">
        <div class="acms-admin-filter-item">
          <label for="filter-level" class="acms-admin-filter-item-name">
            <!--T-->レベル<!--/T-->
          </label>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="ALERT"
              {level:checked#ALERT}
              id="input-checkbox-level-ALERT"
            />
            <label for="input-checkbox-level-ALERT">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->緊急<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="CRITICAL"
              {level:checked#CRITICAL}
              id="input-checkbox-level-CRITICAL"
            />
            <label for="input-checkbox-level-CRITICAL">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->重大<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="ERROR"
              {level:checked#ERROR}
              id="input-checkbox-level-ERROR"
            />
            <label for="input-checkbox-level-ERROR">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->エラー<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="WARNING"
              {level:checked#WARNING}
              id="input-checkbox-level-WARNING"
            />
            <label for="input-checkbox-level-WARNING">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->警告<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="NOTICE"
              {level:checked#NOTICE}
              id="input-checkbox-level-NOTICE"
            />
            <label for="input-checkbox-level-NOTICE">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->注意<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="INFO"
              {level:checked#INFO}
              id="input-checkbox-level-INFO"
            />
            <label for="input-checkbox-level-INFO">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->情報<!--/T-->
            </label>
          </div>
          <div class="acms-admin-form-checkbox">
            <input
              type="checkbox"
              name="level[]"
              value="DEBUG"
              {level:checked#DEBUG}
              id="input-checkbox-level-DEBUG"
            />
            <label for="input-checkbox-level-DEBUG">
              <i class="acms-admin-ico-checkbox"></i>
              <!--T-->デバッグ<!--/T-->
            </label>
          </div>
          <input type="hidden" name="query[]" value="level" />
        </div>
      </div>
    </div>
    <div class="acms-admin-filter-footer">
      <input
        type="submit"
        name="ACMS_POST_2GET"
        value="<!--T-->表示<!--/T-->"
        class="acms-admin-btn acms-admin-btn-info acms-admin-btn-search"
      />
      <input type="hidden" name="admin" value="audit_log" />
    </div>
  </div>
  <div class="clearfix js-acms_fix_marker">
    <div
      class="acms-admin-margin-bottom-mini acms-admin-inline-block acms-admin-float-right"
    >
      <button
        type="submit"
        name="ACMS_POST_Logger_Download"
        class="js-submit acms-admin-btn acms-admin-btn-primary acms-admin-float-right"
      >
        <!--T-->このページをJSON形式でダウンロード<!--/T-->
      </button>
    </div>
  </div>
</form>

<div>
  <!-- BEGIN notFound -->
  <div class="acms-admin-announce">
    <h2 class="acms-admin-announce-title">
      <span class="acms-admin-icon acms-admin-icon-news"></span
      ><!--T-->該当するログは見つかりませんでした<!--/T-->
    </h2>
    <p class="acms-admin-announce-text">
      <!--T-->検索内容に一致したログはありませんでした。<!--/T--><br /><!--T-->再検索してください。<!--/T-->
    </p>
    <!-- BEGIN_MODULE Touch_EditionIsStandard -->
    <p class="acms-admin-announce-text">
      ※ ログレベル「情報」は、プロフェッショナル以上のライセンスで閲覧できます
    </p>
    <!-- END_MODULE Touch_EditionIsStandard -->
  </div>
  <!-- END notFound -->

  <!-- BEGIN index:veil -->
  <div
    class="acms-admin-table-scroll-xs acms-admin-table-scroll-sm acms-admin-table-scroll-md acms-admin-clear"
  >
    <table
      class="js-admin_table-sortable acms-admin-table-admin acms-admin-table-hover"
      data-sort-enable="{sortable}"
      data-sort-submit="ACMS_POST_User_Index_Sort"
      data-sort-target="#sortableForm"
    >
      <thead class="acms-admin-table-heading">
        <tr>
          <th class="acms-admin-table-nowrap"><!--T-->日時<!--/T--></th>
          <th class="acms-admin-table-nowrap"><!--T-->レベル<!--/T--></th>
          <th class="acms-admin-table-nowrap">
            <!--T-->実行ユーザー<!--/T-->
          </th>
          <th class="acms-admin-table-nowrap">
            <!--T-->ブログ<!--/T-->
          </th>
          <th><!--T-->内容<!--/T--></th>
          <th class="acms-admin-table-nowrap"><!--T-->アクション<!--/T--></th>
        </tr>
      </thead>
      <tbody>
        <!-- BEGIN log:loop -->
        <tr>
          <td class="acms-admin-table-nowrap">
            {datetime}[datetime('Y年m月d日')]<br />
            {datetime}[datetime('H:i:s')]
          </td>
          <td class="acms-admin-table-nowrap">
            <span class="acms-admin-label {levelClass}">{level}</span>
          </td>
          <td class="acms-admin-table-nowrap">
            <!-- BEGIN_IF [{suid}/nem/]-->
            <span class="acms-admin-label label-default">{suid}</span>
            {userName}
            <!-- ELSE -->
            -
            <!-- END_IF -->
          </td>
          <td class="acms-admin-table-nowrap">
            <!-- BEGIN_IF [{bid}/nem/] -->
            <span class="acms-admin-label label-default">{bid}</span>
            {blogName}
            <!-- ELSE -->
            -
            <!-- END_IF -->
          </td>
          <td>{message}[nl2br]</td>
          <td class="acms-admin-table-nowrap">
            <button class="js-logger-show-detail acms-admin-btn" data-id="{id}">
              <!--T-->詳細<!--/T-->
            </button>
          </td>
        </tr>
        <!-- END log:loop -->
      </tbody>
    </table>
  </div>

  <div class="acms-admin-grid">
    <div class="acms-admin-col-md-12">
      <div class="acms-admin-itemsAmount-container">
        <p>
          {itemsFrom}<!--T-->件<!--/T-->
          - {itemsTo}<!--T-->件<!--/T-->
          /
          <!--T-->全<!--/T-->{itemsAmount}<!--T-->件<!--/T-->
        </p>
      </div>
    </div>
    <div class="acms-admin-col-md-12">
      <!-- BEGIN pager:veil -->
      <div class="acms-admin-pager-container">
        <ul class="acms-admin-pager">
          <!-- BEGIN backLink -->
          <li class="prev">
            <a href="{url}">&laquo;&nbsp;<!--T-->前へ<!--/T--></a>
          </li>
          <!-- END backLink --><!-- BEGIN page:loop -->
          <li {pageCurAttr}[raw]>
            <span
              ><!-- BEGIN link#front --><a href="{url}"
                ><!-- END link#front -->{page}<!-- BEGIN link#rear --></a
              ><!-- END link#rear --></span
            >
          </li>
          <!-- END page:loop --><!-- BEGIN lastPage:veil -->
          <li class="last"><a href="{lastPageUrl}">...{lastPage}</a></li>
          <!-- END lastPage:veil --><!-- BEGIN forwardLink -->
          <li class="next">
            <a href="{url}"><!--T-->次へ<!--/T-->&nbsp;&raquo;</a>
          </li>
          <!-- END forwardLink -->
        </ul>
      </div>
      <!-- END pager:veil -->
    </div>
  </div>
  <!-- END index:veil -->
</div>

<div class="js-acms-audit-log"></div>
<!-- END_MODULE Admin_Audit_Log -->
